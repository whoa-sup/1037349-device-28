"use strict";const mapLink=document.querySelector(".contacts__link"),mapModal=document.querySelector(".modal-map"),mapButtonClose=document.querySelector(".modal-map__close"),writeusLink=document.querySelector(".contacts__button"),writeusModal=document.querySelector(".writeus"),writeusButtonClose=document.querySelector(".writeus__close"),writeusVisitorName=document.querySelector("[name = person]"),writeusVisitorEmail=document.querySelector("[name = person-email]"),writeusVisitorMessage=document.querySelector("[name = person-message]"),writeusForm=document.querySelector(".writeus__form");let isStorageSupport=!0,storageName="",storageEmail="";const promoButtons=document.querySelectorAll(".slider__button"),promoSlides=document.querySelectorAll(".slider__container");let promoSlideIndex=0;const servicesButtons=document.querySelectorAll(".services__button"),servicesSlides=document.querySelectorAll(".services__container");let servicesSlideIndex=0;try{storageName=localStorage.getItem("visitorName"),storageEmail=localStorage.getItem("visitorEmail")}catch(a){isStorageSupport=!1}showPromoSlides(promoSlideIndex);for(let a=0;a<promoButtons.length;a++)promoButtons[a].addEventListener("click",b=>{b.preventDefault(),promoCurrentSlide(a)});function promoCurrentSlide(a){showPromoSlides(promoSlideIndex=a)}function showPromoSlides(a){let b;for(b=0;b<promoSlides.length;b++)promoSlides[b].classList.contains("slider__container--current")&&promoSlides[b].classList.remove("slider__container--current");for(b=0;b<promoButtons.length;b++)promoButtons[b].classList.contains("slider__button--checked")&&promoButtons[b].classList.remove("slider__button--checked");promoSlides[a].classList.add("slider__container--current"),promoButtons[a].classList.add("slider__button--checked")}showServicesSlides(servicesSlideIndex);for(let a=0;a<servicesButtons.length;a++)servicesButtons[a].addEventListener("click",b=>{b.preventDefault(),servicesCurrentSlide(a)});function servicesCurrentSlide(a){showServicesSlides(servicesSlideIndex=a)}function showServicesSlides(a){let b;for(b=0;b<servicesSlides.length;b++)servicesSlides[b].classList.contains("services__container--current")&&servicesSlides[b].classList.remove("services__container--current");for(b=0;b<servicesButtons.length;b++)servicesButtons[b].classList.contains("services__button--current")&&servicesButtons[b].classList.remove("services__button--current");servicesSlides[a].classList.add("services__container--current"),servicesButtons[a].classList.add("services__button--current")}mapLink.addEventListener("click",a=>{a.preventDefault(),mapModal.classList.add("modal--show"),mapButtonClose.focus()}),mapButtonClose.addEventListener("click",()=>{mapModal.classList.remove("modal--show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapModal.classList.contains("modal--show")&&(a.preventDefault(),mapModal.classList.remove("modal--show"))}),writeusLink.addEventListener("click",a=>{a.preventDefault(),writeusModal.classList.add("modal--show"),isStorageSupport?storageName&&storageEmail?(writeusVisitorName.value=storageName,writeusVisitorEmail.value=storageEmail,writeusVisitorMessage.focus()):writeusVisitorName.focus():writeusVisitorName.focus()}),writeusButtonClose.addEventListener("click",()=>{writeusModal.classList.remove("modal--show"),writeusModal.classList.remove("modal--error")}),window.addEventListener("keydown",function(a){27===a.keyCode&&writeusModal.classList.contains("modal--show")&&(a.preventDefault(),writeusModal.classList.remove("modal--show"),writeusModal.classList.remove("modal--error"))}),writeusForm.addEventListener("submit",a=>{writeusVisitorName.value&&writeusVisitorEmail.value&&writeusVisitorMessage.value?isStorageSupport&&(localStorage.setItem("visitorName",writeusVisitorName.value),localStorage.setItem("visitorEmail",writeusVisitorEmail.value)):(a.preventDefault(),writeusModal.classList.remove("modal--error"),void writeusModal.offsetWidth,writeusModal.classList.add("modal--error"))});
